
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>4.1. Delegation &#8212; DesignPatternsPHP 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="4.2. Service Locator" href="../ServiceLocator/README.html" />
    <link rel="prev" title="4. More" href="../README.html" />
  
   

  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../ServiceLocator/README.html" title="4.2. Service Locator"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../README.html" title="4. More"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../README.html">DesignPatternsPHP 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../README.html" accesskey="U">4. More</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar"><a href="
    ../../README.html" class="text-logo">DesignPatternsPHP</a>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Creational/README.html">1. Creational</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Structural/README.html">2. Structural</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Behavioral/README.html">3. Behavioral</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../README.html">4. More</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.1. Delegation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ServiceLocator/README.html">4.2. Service Locator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Repository/README.html">4.3. Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="../EAV/README.html">4.4. Entity-Attribute-Value (EAV)</a></li>
</ul>
</li>
</ul>

    
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../../README.html">Docs</a></li>
              
                <li><a href="../README.html">4. More</a></li>
              
              <li>4.1. Delegation</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="delegation">
<h1>4.1. <a class="reference external" href="http://en.wikipedia.org/wiki/Delegation_pattern">Delegation</a><a class="headerlink" href="#delegation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="purpose">
<h2>4.1.1. Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>Demonstrate the Delegator pattern, where an object, instead of performing one
of its stated tasks, delegates that task to an associated helper object. In
this case TeamLead professes to writeCode and Usage uses this, while TeamLead
delegates writeCode to JuniorDeveloper’s writeBadCode function. This inverts
the responsibility so that Usage is unknowingly executing writeBadCode.</p>
</div>
<div class="section" id="examples">
<h2>4.1.2. Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Please review JuniorDeveloper.php, TeamLead.php, and then Usage.php to see it all tied together.</p>
</div>
<div class="section" id="uml-diagram">
<h2>4.1.3. UML Diagram<a class="headerlink" href="#uml-diagram" title="Permalink to this headline">¶</a></h2>
<img alt="Alt Delegation UML Diagram" class="align-center" src="../../_images/uml21.png" />
</div>
<div class="section" id="code">
<h2>4.1.4. Code<a class="headerlink" href="#code" title="Permalink to this headline">¶</a></h2>
<p>You can also find this code on <a class="reference external" href="https://github.com/domnikl/DesignPatternsPHP/tree/master/More/Delegation">GitHub</a></p>
<p>TeamLead.php</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">DesignPatterns\More\Delegation</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">TeamLead</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @var JuniorDeveloper</span>
<span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$junior</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @param JuniorDeveloper $junior</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">JuniorDeveloper</span> <span class="nv">$junior</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">junior</span> <span class="o">=</span> <span class="nv">$junior</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">writeCode</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">junior</span><span class="o">-&gt;</span><span class="na">writeBadCode</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>JuniorDeveloper.php</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">DesignPatterns\More\Delegation</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">JuniorDeveloper</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">writeBadCode</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s1">&#39;Some junior developer generated code...&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="test">
<h2>4.1.5. Test<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h2>
<p>Tests/DelegationTest.php</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">DesignPatterns\More\Delegation\Tests</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">DesignPatterns\More\Delegation</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DelegationTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testHowTeamLeadWriteCode</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$junior</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Delegation\JuniorDeveloper</span><span class="p">();</span>
        <span class="nv">$teamLead</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Delegation\TeamLead</span><span class="p">(</span><span class="nv">$junior</span><span class="p">);</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="nv">$junior</span><span class="o">-&gt;</span><span class="na">writeBadCode</span><span class="p">(),</span> <span class="nv">$teamLead</span><span class="o">-&gt;</span><span class="na">writeCode</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="../README.html" title="previous chapter (use the left arrow)">4. More</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="../ServiceLocator/README.html" title="next chapter (use the right arrow)">4.2. Service Locator</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../ServiceLocator/README.html" title="4.2. Service Locator"
             >next</a> |</li>
        <li class="right" >
          <a href="../README.html" title="4. More"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../README.html">DesignPatternsPHP 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../README.html" >4. More</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2015, Dominik Liebler and contributors. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>